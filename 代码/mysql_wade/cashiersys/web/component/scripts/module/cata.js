Wade.cata=(function(){ var dom=Wade.dom; var evt=Wade.event; var page=Wade.page; var validate=Wade.validate; var ajax=Wade.ajax;  var catalogList_TableEdit=null; return {  catalogFrame_queryCatalogs:function(){   page.clickTabPane('catas', 'component.cata.CatalogList', 'queryCatalogs', null, true);  },  catalogList_Init:function(){   catalogList_TableEdit = new Wade.component.TableEdit("Cata");      var bcreate = dom.getElement("bcreate"); dom.hidden(bcreate, true);     var bupdate = dom.getElement("bupdate"); dom.hidden(bupdate, true);   var bdelete = dom.getElement("bdelete"); dom.hidden(bdelete, true);   var bsubmit = dom.getElement("bsubmit"); dom.hidden(bsubmit, true);      var parent_cata_id = dom.getElement("PARENT_CATA_ID");   if (parent_cata_id != null && parent_cata_id.value != "") {    dom.hidden(bcreate, false);      dom.hidden(bupdate, false);    dom.hidden(bdelete, false);    dom.hidden(bsubmit, false);   }    },  catalogList_CreateCatalog:function(obj) {   if (!validate.verifyAll(obj)) return false;   if (!catalogList_TableEdit.checkRow('CATA_NAME')) return false;      catalogList_TableEdit.insertRow();  },  catalogList_UpdateCatalog:function(obj) {    if (!catalogList_TableEdit.verifyTable()) return false;   if (!validate.verifyAll(obj)) return false;      if (!catalogList_TableEdit.checkRow('CATA_NAME', true)) return false;   catalogList_TableEdit.updateRow();  },  catalogList_DeleteCatalog:function(obj) {   if (!catalogList_TableEdit.verifyTable()) return false;   catalogList_TableEdit.deleteRow();  },  catalogList_SubmitCatalogs:function(obj) {   if (!window.confirm("确定提交吗？")) return false;   var c_strObj=dom.getElement("X_CODING_STR");if(c_strObj){    c_strObj.value= catalogList_TableEdit.encodeTable("X_TAG,CATA_ID,CATA_NAME,CATA_DESC,CATA_IDX");    ajax.ajaxSubmit(this, "submitCatalogs", null, "CatalogPart");    this.afterAction = "Wade.cata.catalogList_Init();parent.treeNodeRefresh(Wade.dom.getElementValue('PARENT_CATA_ID'))";   }  },  catalogList_FillCatalog:function() {   var cata_name = dom.getElement("CATA_NAME");   var cata_desc = dom.getElement("CATA_DESC");   var cata_idx = dom.getElement("CATA_IDX");   if (cata_name.value != "") {    if (cata_desc.value == "") cata_desc.value = cata_name.value;    if (cata_idx.value == "") cata_idx.value = parseInt(catalogList_TableEdit.table.rows.length) * 10;   }  }  };})();