var category = "MSN";var path = getImagePath(category);var images = getImages(category);var columns = 10;function closeOnEsc() { if (event.keyCode == 27) { window.close(); return; }}function createSmiley(image) { return "<img src=\"" + image + "\" border=\"0\">";}function getImagePath(category) { var image_path; switch (category) {  case "MSN":   image_path = "../../../component/images/smiley/msn/"   break;  case "QQ":   image_path = "../../../component/images/smiley/qq/";   break; } return image_path;}function getImages(category) { var images; switch (category) {  case "MSN":   images = ['regular_smile.gif',       'sad_smile.gif',       'wink_smile.gif',       'teeth_smile.gif',       'confused_smile.gif',       'tounge_smile.gif',       'embaressed_smile.gif',       'omg_smile.gif',       'whatchutalkingabout_smile.gif',       'angry_smile.gif',       'angel_smile.gif',       'shades_smile.gif',       'devil_smile.gif',       'cry_smile.gif',       'lightbulb.gif',       'thumbs_down.gif',       'thumbs_up.gif',       'heart.gif',       'broken_heart.gif',       'kiss.gif',       'envelope.gif',       'cake.gif',       'gift.gif',       'rose.gif',       'wizen_rose.gif',       'sun.gif',       'star.gif',       'rainbow.gif',       'music.gif',       'coffee.gif'       ];   break;  case "QQ":   break; } return images;}function initInsertSmiley() { document.body.onkeypress = closeOnEsc;}function insertSmiley(image) { window.returnValue = createSmiley(image); window.close();}function over(obj) { obj.className = 'LightBackground HandIE HandMozilla';}function out(obj) { obj.className = 'DarkBackground HandIE HandMozilla' ;}function wirteSmileys() { for (var i=0; i<Math.ceil(images.length/columns); i++) {  document.write("<tr>");  for (var j=0; j<columns; j++) {   var image = images[i * columns + j];   if (image) {    var smiley = createSmiley(path + image);    document.write("<td align=\"center\" class=\"DarkBackground HandIE HandMozilla\" onmouseover=\"over(this)\" onmouseout=\"out(this)\" onclick=\"insertSmiley('" + path + image + "');\">" + smiley + "</td>");   } else {    document.write("<td align=\"center\" class=\"DarkBackground\">&nbsp;</td>");   }  }  document.write("</tr>"); }}