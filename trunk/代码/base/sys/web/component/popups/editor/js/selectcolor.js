function init() { document.body.onkeypress = closeOnEsc; var color = "#" + window.dialogArguments; setColor(color);}function closeOnEsc() { if (event.keyCode == 27) { window.close(); return; }}function view(obj) { var color = obj.style.backgroundColor; setColor(color);}function select(obj) { var color = obj.style.backgroundColor; setColor(color); setValue(color);}function setColor(color) { document.all.preview.style.backgroundColor = color; document.all.color.value = color; }function setValue(value) { if (value != "") { window.returnValue = value.substring(1, value.length); } window.close();}